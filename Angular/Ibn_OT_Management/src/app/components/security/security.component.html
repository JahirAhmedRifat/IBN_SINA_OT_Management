<div class="container-fluid setup rounded">
  <div class="container-fluid  row">
    <div class="col-12 my-3 mx-2 rounded title">
      <h3 class="fw-bolder text-center">Change The Password</h3>
    </div>
  </div><br><br><br>
  <div class="row mt-3">
    <div class="col-md-4"></div>
    <div class="col-md-4 border border-info rounded p-3">
      <form #form="ngForm">
        <div class="mb-3">
          <label for="username" class="form-label fw-bolder">Username</label><span class="text-danger"> *</span>
          <input type="text" class="form-control" [(ngModel)]="passwordChangeRequest.username" name="username"
            id="username" placeholder="Enter username" #uName="ngModel" required>
          <div class="text-danger">
            @if((uName.touched || uName.dirty) && uName.errors?.['required']){
            <span>It's Required</span>
            }
          </div>
        </div>
        <label for="newPassword" class="form-label fw-bolder">New Password</label><span class="text-danger"> *</span>
        <div class="input-group position-relative">
          <input 
            [type]="isPasswordVisible ? 'text' : 'password'" 
            class="form-control"
            [(ngModel)]="passwordChangeRequest.newPassword" 
            name="newPassword" 
            id="newPassword"
            placeholder="Enter New Password" 
            #nPassword="ngModel" 
            required
            >
          <span 
            class="position-absolute eye-icon" 
            (click)="togglePasswordVisibility()">
            <i class="bi" [ngClass]="isPasswordVisible ? 'bi-eye-slash' : 'bi-eye'"></i>
          </span>
        </div>
        <div class="text-danger">
          <span *ngIf="(nPassword.touched || nPassword.dirty) && nPassword.errors?.['required']">
            It's Required
          </span>
        </div>
        <button type="submit" class="btn btn-primary px-5 btn-sm fw-bolder mt-3" (click)="changePassword()"
          [disabled]="form.invalid">Submit</button>
      </form>
    </div>
  </div>
</div>